<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual is for Org version 9.2.

Copyright (C) 2004-2019  Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual."
 -->
<!-- Created by GNU Texinfo 6.3, http://www.gnu.org/software/texinfo/ -->
<head>
<title>The Org Manual: Matching tags and properties</title>

<meta name="description" content="The Org Manual: Matching tags and properties">
<meta name="keywords" content="The Org Manual: Matching tags and properties">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="Main-Index.html#Main-Index" rel="index" title="Main Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Built_002din-Agenda-Views.html#Built_002din-Agenda-Views" rel="up" title="Built-in Agenda Views">
<link href="Search-view.html#Search-view" rel="next" title="Search view">
<link href="Global-TODO-list.html#Global-TODO-list" rel="prev" title="Global TODO list">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="Matching-tags-and-properties"></a>
<div class="header">
<p>
Next: <a href="Search-view.html#Search-view" accesskey="n" rel="next">Search view</a>, Previous: <a href="Global-TODO-list.html#Global-TODO-list" accesskey="p" rel="prev">Global TODO list</a>, Up: <a href="Built_002din-Agenda-Views.html#Built_002din-Agenda-Views" accesskey="u" rel="up">Built-in Agenda Views</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Main-Index.html#Main-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Matching-tags-and-properties-1"></a>
<h4 class="subsection">10.3.3 Matching tags and properties</h4>

<a name="index-matching_002c-of-tags"></a>
<a name="index-matching_002c-of-properties"></a>
<a name="index-tags-view"></a>
<a name="index-match-view"></a>

<p>If headlines in the agenda files are marked with <em>tags</em> (see <a href="Tags.html#Tags">Tags</a>),
or have properties (see <a href="Properties-and-Columns.html#Properties-and-Columns">Properties and Columns</a>), you can select
headlines based on this metadata and collect them into an agenda
buffer.  The match syntax described here also applies when creating
sparse trees with <kbd>C-c / m</kbd>.
</p>
<dl compact="compact">
<dt><kbd>M-x org-agenda m</kbd> (<code>org-tags-view</code>)</dt>
<dd><a name="index-m-_0028Agenda-dispatcher_0029-2"></a>
<a name="index-org_002dtags_002dview-2"></a>
<p>Produce a list of all headlines that match a given set of tags.
The command prompts for a selection criterion, which is a boolean
logic expression with tags, like &lsquo;<samp>+work+urgent-withboss</samp>&rsquo; or
&lsquo;<samp>work|home</samp>&rsquo; (see <a href="Tags.html#Tags">Tags</a>).  If you often need a specific search,
define a custom command for it (see <a href="Agenda-Dispatcher.html#Agenda-Dispatcher">Agenda Dispatcher</a>).
</p>
</dd>
<dt><kbd>M-x org-agenda M</kbd> (<code>org-tags-view</code>)</dt>
<dd><a name="index-M-_0028Agenda-dispatcher_0029-2"></a>
<a name="index-org_002dtags_002dview-3"></a>
<a name="index-org_002dtags_002dmatch_002dlist_002dsublevels-3"></a>
<a name="index-org_002dagenda_002dtags_002dtodo_002dhonor_002dignore_002doptions"></a>
<p>Like <kbd>m</kbd>, but only select headlines that are also TODO
items and force checking subitems (see the variable
<code>org-tags-match-list-sublevels</code>).  To exclude scheduled/deadline
items, see the variable
<code>org-agenda-tags-todo-honor-ignore-options</code>.  Matching specific
TODO keywords together with a tags match is also possible, see
<a href="Tag-Searches.html#Tag-Searches">Tag Searches</a>.
</p></dd>
</dl>

<p>The commands available in the tags list are described in <a href="Agenda-Commands.html#Agenda-Commands">Agenda Commands</a>.
</p>
<a name="index-boolean-logic_002c-for-agenda-searches"></a>
<p>A search string can use Boolean operators &lsquo;<samp>&amp;</samp>&rsquo; for AND and &lsquo;<samp>|</samp>&rsquo; for OR.
&lsquo;<samp>&amp;</samp>&rsquo; binds more strongly than &lsquo;<samp>|</samp>&rsquo;.  Parentheses are currently not
implemented.  Each element in the search is either a tag, a regular
expression matching tags, or an expression like &lsquo;<samp>PROPERTY OPERATOR
VALUE</samp>&rsquo; with a comparison operator, accessing a property value.  Each
element may be preceded by &lsquo;<samp>-</samp>&rsquo; to select against it, and &lsquo;<samp>+</samp>&rsquo; is
syntactic sugar for positive selection.  The AND operator &lsquo;<samp>&amp;</samp>&rsquo; is
optional when &lsquo;<samp>+</samp>&rsquo; or &lsquo;<samp>-</samp>&rsquo; is present.  Here are some examples, using
only tags.
</p>
<dl compact="compact">
<dt><code>+work-boss</code></dt>
<dd><p>Select headlines tagged &lsquo;<samp>work</samp>&rsquo;, but discard those also tagged
&lsquo;<samp>boss</samp>&rsquo;.
</p>
</dd>
<dt><code>work|laptop</code></dt>
<dd><p>Selects lines tagged &lsquo;<samp>work</samp>&rsquo; or &lsquo;<samp>laptop</samp>&rsquo;.
</p>
</dd>
<dt><code>work|laptop+night</code></dt>
<dd><p>Like before, but require the &lsquo;<samp>laptop</samp>&rsquo; lines to be tagged
also &lsquo;<samp>night</samp>&rsquo;.
</p></dd>
</dl>

<a name="index-regular-expressions_002c-with-tags-search"></a>
<p>Instead of a tag, you may also specify a regular expression enclosed
in curly braces.  For example, &lsquo;<samp>work+{^boss.*}</samp>&rsquo; matches headlines that
contain the tag &lsquo;<samp>:work:</samp>&rsquo; and any tag <em>starting</em> with &lsquo;<samp>boss</samp>&rsquo;.
</p>
<a name="index-group-tags_002c-as-regular-expressions"></a>
<p>Group tags (see <a href="Tag-Hierarchy.html#Tag-Hierarchy">Tag Hierarchy</a>) are expanded as regular expressions.
E.g., if &lsquo;<samp>work</samp>&rsquo; is a group tag for the group &lsquo;<samp>:work:lab:conf:</samp>&rsquo;, then
searching for &lsquo;<samp>work</samp>&rsquo; also searches for &lsquo;<samp>{\(?:work\|lab\|conf\)}</samp>&rsquo; and
searching for &lsquo;<samp>-work</samp>&rsquo; searches for all headlines but those with one of
the tags in the group (i.e., &lsquo;<samp>-{\(?:work\|lab\|conf\)}</samp>&rsquo;).
</p>
<a name="index-TODO-keyword-matching_002c-with-tags-search"></a>
<a name="index-level_002c-for-tags_002fproperty-match"></a>
<a name="index-category_002c-for-tags_002fproperty-match"></a>
<a name="index-org_002dodd_002dlevels_002donly"></a>
<p>You may also test for properties (see <a href="Properties-and-Columns.html#Properties-and-Columns">Properties and Columns</a>) at the
same time as matching tags.  The properties may be real properties, or
special properties that represent other metadata (see <a href="Special-Properties.html#Special-Properties">Special Properties</a>).  For example, the property &lsquo;<samp>TODO</samp>&rsquo; represents the TODO
keyword of the entry.  Or, the property &lsquo;<samp>LEVEL</samp>&rsquo; represents the level
of an entry.  So searching &lsquo;<samp>+LEVEL=3+boss-TODO​=&quot;DONE&quot;</samp>&rsquo; lists all level
three headlines that have the tag &lsquo;<samp>boss</samp>&rsquo; and are <em>not</em> marked with the
TODO keyword &lsquo;<samp>DONE</samp>&rsquo;.  In buffers with <code>org-odd-levels-only</code> set,
&lsquo;<samp>LEVEL</samp>&rsquo; does not count the number of stars, but &lsquo;<samp>LEVEL=2</samp>&rsquo; corresponds
to 3 stars etc.
</p>
<p>Here are more examples:
</p>
<dl compact="compact">
<dt>&lsquo;<samp>work+TODO​=&quot;WAITING&quot;</samp>&rsquo;</dt>
<dd><p>Select &lsquo;<samp>work</samp>&rsquo;-tagged TODO lines with the specific TODO keyword
&lsquo;<samp>WAITING</samp>&rsquo;.
</p>
</dd>
<dt>&lsquo;<samp>work+TODO​=&quot;WAITING&quot;|home+TODO​=&quot;WAITING&quot;</samp>&rsquo;</dt>
<dd><p>Waiting tasks both at work and at home.
</p></dd>
</dl>

<p>When matching properties, a number of different operators can be used
to test the value of a property.  Here is a complex example:
</p>
<div class="example">
<pre class="example">+work-boss+PRIORITY=&quot;A&quot;+Coffee=&quot;unlimited&quot;+Effort&lt;2
         +With={Sarah|Denny}+SCHEDULED&gt;=&quot;&lt;2008-10-11&gt;&quot;
</pre></div>

<p>The type of comparison depends on how the comparison value is written:
</p>
<ul>
<li> If the comparison value is a plain number, a numerical comparison is
done, and the allowed operators are &lsquo;<samp>&lt;</samp>&rsquo;, &lsquo;<samp>=</samp>&rsquo;, &lsquo;<samp>&gt;</samp>&rsquo;, &lsquo;<samp>&lt;=</samp>&rsquo;, &lsquo;<samp>&gt;=</samp>&rsquo;, and
&lsquo;<samp>&lt;&gt;</samp>&rsquo;.

</li><li> If the comparison value is enclosed in double-quotes, a string
comparison is done, and the same operators are allowed.

</li><li> If the comparison value is enclosed in double-quotes <em>and</em> angular
brackets (like &lsquo;<samp>DEADLINE&lt;​=&quot;&lt;2008-12-24 18:30&gt;&quot;</samp>&rsquo;), both values are
assumed to be date/time specifications in the standard Org way, and
the comparison is done accordingly.  Valid values also include
&lsquo;<samp>&quot;&lt;now&gt;&quot;</samp>&rsquo; for now (including time), &lsquo;<samp>&quot;&lt;today&gt;&quot;</samp>&rsquo;, and &lsquo;<samp>&quot;&lt;tomorrow&gt;&quot;</samp>&rsquo;
for these days at 0:00 hours, i.e., without a time specification.
You can also use strings like &lsquo;<samp>&quot;&lt;+5d&gt;&quot;</samp>&rsquo; or &lsquo;<samp>&quot;&lt;-2m&gt;&quot;</samp>&rsquo; with units &lsquo;<samp>d</samp>&rsquo;,
&lsquo;<samp>w</samp>&rsquo;, &lsquo;<samp>m</samp>&rsquo;, and &lsquo;<samp>y</samp>&rsquo; for day, week, month, and year, respectively.

</li><li> If the comparison value is enclosed in curly braces, a regexp match
is performed, with &lsquo;<samp>=</samp>&rsquo; meaning that the regexp matches the property
value, and &lsquo;<samp>&lt;&gt;</samp>&rsquo; meaning that it does not match.
</li></ul>

<p>So the search string in the example finds entries tagged &lsquo;<samp>work</samp>&rsquo; but
not &lsquo;<samp>boss</samp>&rsquo;, which also have a priority value &lsquo;<samp>A</samp>&rsquo;, a &lsquo;<samp>Coffee</samp>&rsquo; property
with the value &lsquo;<samp>unlimited</samp>&rsquo;, an &lsquo;<samp>EFFORT</samp>&rsquo; property that is numerically
smaller than 2, a &lsquo;<samp>With</samp>&rsquo; property that is matched by the regular
expression &lsquo;<samp>Sarah|Denny</samp>&rsquo;, and that are scheduled on or after October
11, 2008.
</p>
<p>You can configure Org mode to use property inheritance during
a search, but beware that this can slow down searches considerably.
See <a href="Property-Inheritance.html#Property-Inheritance">Property Inheritance</a>, for details.
</p>
<p>For backward compatibility, and also for typing speed, there is also
a different way to test TODO states in a search.  For this, terminate
the tags/property part of the search string (which may include several
terms connected with &lsquo;<samp>|</samp>&rsquo;) with a &lsquo;<samp>/</samp>&rsquo; and then specify a Boolean
expression just for TODO keywords.  The syntax is then similar to that
for tags, but should be applied with care: for example, a positive
selection on several TODO keywords cannot meaningfully be combined
with boolean AND.  However, <em>negative selection</em> combined with AND can
be meaningful.  To make sure that only lines are checked that actually
have any TODO keyword (resulting in a speed-up), use <kbd>M-x org-agenda M</kbd>, or equivalently start the TODO part after the slash
with &lsquo;<samp>!</samp>&rsquo;.  Using <kbd>M-x org-agenda M</kbd> or &lsquo;<samp>/!</samp>&rsquo; does not match
TODO keywords in a DONE state.  Examples:
</p>
<dl compact="compact">
<dt>&lsquo;<samp>work/WAITING</samp>&rsquo;</dt>
<dd><p>Same as &lsquo;<samp>work+TODO​=&quot;WAITING&quot;</samp>&rsquo;.
</p>
</dd>
<dt>&lsquo;<samp>work/!-WAITING-NEXT</samp>&rsquo;</dt>
<dd><p>Select &lsquo;<samp>work</samp>&rsquo;-tagged TODO lines that are neither &lsquo;<samp>WAITING</samp>&rsquo; nor
&lsquo;<samp>NEXT</samp>&rsquo;.
</p>
</dd>
<dt>&lsquo;<samp>work/!+WAITING|+NEXT</samp>&rsquo;</dt>
<dd><p>Select &lsquo;<samp>work</samp>&rsquo;-tagged TODO lines that are either &lsquo;<samp>WAITING</samp>&rsquo; or
&lsquo;<samp>NEXT</samp>&rsquo;.
</p></dd>
</dl>

<hr>
<div class="header">
<p>
Next: <a href="Search-view.html#Search-view" accesskey="n" rel="next">Search view</a>, Previous: <a href="Global-TODO-list.html#Global-TODO-list" accesskey="p" rel="prev">Global TODO list</a>, Up: <a href="Built_002din-Agenda-Views.html#Built_002din-Agenda-Views" accesskey="u" rel="up">Built-in Agenda Views</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Main-Index.html#Main-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
