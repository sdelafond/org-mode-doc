<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual is for Org version 9.3.

Copyright (C) 2004-2019  Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual."
 -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Extracting Source Code (The Org Manual)</title>

<meta name="description" content="Extracting Source Code (The Org Manual)">
<meta name="keywords" content="Extracting Source Code (The Org Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Main-Index.html#Main-Index" rel="index" title="Main Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Working-with-Source-Code.html#Working-with-Source-Code" rel="up" title="Working with Source Code">
<link href="Languages.html#Languages" rel="next" title="Languages">
<link href="Exporting-Code-Blocks.html#Exporting-Code-Blocks" rel="prev" title="Exporting Code Blocks">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="Extracting-Source-Code"></a>
<div class="header">
<p>
Next: <a href="Languages.html#Languages" accesskey="n" rel="next">Languages</a>, Previous: <a href="Exporting-Code-Blocks.html#Exporting-Code-Blocks" accesskey="p" rel="prev">Exporting Code Blocks</a>, Up: <a href="Working-with-Source-Code.html#Working-with-Source-Code" accesskey="u" rel="up">Working with Source Code</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Main-Index.html#Main-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Extracting-Source-Code-1"></a>
<h3 class="section">15.7 Extracting Source Code</h3>

<a name="index-tangling"></a>
<a name="index-source-code_002c-extracting"></a>
<a name="index-code-block_002c-extracting-source-code"></a>

<p>Extracting source code from code blocks is a basic task in literate
programming.  Org has features to make this easy.  In literate
programming parlance, documents on creation are <em>woven</em> with code and
documentation, and on export, the code is tangled for execution by
a computer.  Org facilitates weaving and tangling for producing,
maintaining, sharing, and exporting literate programming documents.
Org provides extensive customization options for extracting source
code.
</p>
<p>When Org tangles code blocks, it expands, merges, and transforms them.
Then Org recomposes them into one or more separate files, as
configured through the options.  During this tangling process, Org
expands variables in the source code, and resolves any Noweb style
references (see <a href="Noweb-Reference-Syntax.html#Noweb-Reference-Syntax">Noweb Reference Syntax</a>).
</p>
<a name="Header-arguments"></a><a name="Header-arguments-1"></a>
<h4 class="subheading">Header arguments</h4>

<a name="index-tangle_002c-header-argument"></a>
<p>The &lsquo;<samp>tangle</samp>&rsquo; header argument specifies if the code block is exported
to source file(s).
</p>
<dl compact="compact">
<dt>&lsquo;<samp>yes</samp>&rsquo;</dt>
<dd><p>Export the code block to source file.  The file name for the source
file is derived from the name of the Org file, and the file
extension is derived from the source code language identifier.
Example: &lsquo;<samp>:tangle yes</samp>&rsquo;.
</p>
</dd>
<dt>&lsquo;<samp>no</samp>&rsquo;</dt>
<dd><p>The default.  Do not extract the code in a source code file.
Example: &lsquo;<samp>:tangle no</samp>&rsquo;.
</p>
</dd>
<dt><var>FILENAME</var></dt>
<dd><p>Export the code block to source file whose file name is derived from
any string passed to the &lsquo;<samp>tangle</samp>&rsquo; header argument.  Org derives the
file name as being relative to the directory of the Org file&rsquo;s
location.  Example: &lsquo;<samp>:tangle FILENAME</samp>&rsquo;.
</p></dd>
</dl>

<a name="index-mkdirp_002c-header-argument-1"></a>
<p>The &lsquo;<samp>mkdirp</samp>&rsquo; header argument creates parent directories for tangled
files if the directory does not exist.  A &lsquo;<samp>yes</samp>&rsquo; value enables
directory creation whereas &lsquo;<samp>no</samp>&rsquo; inhibits it.
</p>
<a name="index-comments_002c-header-argument"></a>
<p>The &lsquo;<samp>comments</samp>&rsquo; header argument controls inserting comments into
tangled files.  These are above and beyond whatever comments may
already exist in the code block.
</p>
<dl compact="compact">
<dt>&lsquo;<samp>no</samp>&rsquo;</dt>
<dd><p>The default.  Do not insert any extra comments during tangling.
</p>
</dd>
<dt>&lsquo;<samp>link</samp>&rsquo;</dt>
<dd><p>Wrap the code block in comments.  Include links pointing back to the
place in the Org file from where the code was tangled.
</p>
</dd>
<dt>&lsquo;<samp>yes</samp>&rsquo;</dt>
<dd><p>Kept for backward compatibility; same as &lsquo;<samp>link</samp>&rsquo;.
</p>
</dd>
<dt>&lsquo;<samp>org</samp>&rsquo;</dt>
<dd><p>Nearest headline text from Org file is inserted as comment.  The
exact text that is inserted is picked from the leading context of
the source block.
</p>
</dd>
<dt>&lsquo;<samp>both</samp>&rsquo;</dt>
<dd><p>Includes both &lsquo;<samp>link</samp>&rsquo; and &lsquo;<samp>org</samp>&rsquo; options.
</p>
</dd>
<dt>&lsquo;<samp>noweb</samp>&rsquo;</dt>
<dd><p>Includes &lsquo;<samp>link</samp>&rsquo; option, expands Noweb references (see <a href="Noweb-Reference-Syntax.html#Noweb-Reference-Syntax">Noweb Reference Syntax</a>), and wraps them in link comments inside the body
of the code block.
</p></dd>
</dl>

<a name="index-padline_002c-header-argument"></a>
<p>The &lsquo;<samp>padline</samp>&rsquo; header argument controls insertion of newlines to pad
source code in the tangled file.
</p>
<dl compact="compact">
<dt>&lsquo;<samp>yes</samp>&rsquo;</dt>
<dd><p>Default.  Insert a newline before and after each code block in the
tangled file.
</p>
</dd>
<dt>&lsquo;<samp>no</samp>&rsquo;</dt>
<dd><p>Do not insert newlines to pad the tangled code blocks.
</p></dd>
</dl>

<a name="index-shebang_002c-header-argument"></a>
<p>The &lsquo;<samp>shebang</samp>&rsquo; header argument can turn results into executable script
files.  By setting it to a string value&mdash;for example, &lsquo;<samp>:shebang
&quot;#!/bin/bash&quot;</samp>&rsquo;&mdash;Org inserts that string as the first line of the
tangled file that the code block is extracted to.  Org then turns on
the tangled file&rsquo;s executable permission.
</p>
<a name="index-tangle_002dmode_002c-header-argument"></a>
<p>The &lsquo;<samp>tangle-mode</samp>&rsquo; header argument specifies what permissions to set
for tangled files by <code>set-file-modes</code>.  For example, to make
a read-only tangled file, use &lsquo;<samp>:tangle-mode (identity #o444)</samp>&rsquo;.  To
make it executable, use &lsquo;<samp>:tangle-mode (identity #o755)</samp>&rsquo;.  It also
overrides executable permission granted by &lsquo;<samp>shebang</samp>&rsquo;.  When multiple
source code blocks tangle to a single file with different and
conflicting &lsquo;<samp>tangle-mode</samp>&rsquo; header arguments, Org&rsquo;s behavior is
undefined.
</p>
<a name="index-no_002dexpand_002c-header-argument"></a>
<p>By default Org expands code blocks during tangling.  The &lsquo;<samp>no-expand</samp>&rsquo;
header argument turns off such expansions.  Note that one side-effect
of expansion by <code>org-babel-expand-src-block</code> also assigns values (see
<a href="Environment-of-a-Code-Block.html#Environment-of-a-Code-Block">Environment of a Code Block</a>) to variables.  Expansions also replace
Noweb references with their targets (see <a href="Noweb-Reference-Syntax.html#Noweb-Reference-Syntax">Noweb Reference Syntax</a>).
Some of these expansions may cause premature assignment, hence this
option.  This option makes a difference only for tangling.  It has no
effect when exporting since code blocks for execution have to be
expanded anyway.
</p>
<a name="Functions"></a><a name="Functions-1"></a>
<h4 class="subheading">Functions</h4>

<dl compact="compact">
<dt><code>org-babel-tangle</code></dt>
<dd><a name="index-org_002dbabel_002dtangle"></a>
<a name="index-C_002dc-C_002dv-t"></a>
<p>Tangle the current file.  Bound to <kbd>C-c C-v t</kbd>.
</p>
<p>With prefix argument only tangle the current code block.
</p>
</dd>
<dt><code>org-babel-tangle-file</code></dt>
<dd><a name="index-org_002dbabel_002dtangle_002dfile"></a>
<a name="index-C_002dc-C_002dv-f"></a>
<p>Choose a file to tangle.  Bound to <kbd>C-c C-v f</kbd>.
</p></dd>
</dl>

<a name="Hooks-_00281_0029"></a><a name="Hooks-3"></a>
<h4 class="subheading">Hooks</h4>

<dl compact="compact">
<dt><code>org-babel-post-tangle-hook</code></dt>
<dd><a name="index-org_002dbabel_002dpost_002dtangle_002dhook"></a>
<p>This hook is run from within code files tangled by
<code>org-babel-tangle</code>, making it suitable for post-processing,
compilation, and evaluation of code in the tangled files.
</p></dd>
</dl>

<a name="Jumping-between-code-and-Org"></a><a name="Jumping-between-code-and-Org-1"></a>
<h4 class="subheading">Jumping between code and Org</h4>

<a name="index-org_002dbabel_002dtangle_002djump_002dto_002dorg"></a>
<p>Debuggers normally link errors and messages back to the source code.
But for tangled files, we want to link back to the Org file, not to
the tangled source file.  To make this extra jump, Org uses
<code>org-babel-tangle-jump-to-org</code> function with two additional source
code block header arguments:
</p>
<ol>
<li> Set &lsquo;<samp>padline</samp>&rsquo; to true&mdash;this is the default setting.
</li><li> Set &lsquo;<samp>comments</samp>&rsquo; to &lsquo;<samp>link</samp>&rsquo;, which makes Org insert links to the Org
file.
</li></ol>

<hr>
<div class="header">
<p>
Next: <a href="Languages.html#Languages" accesskey="n" rel="next">Languages</a>, Previous: <a href="Exporting-Code-Blocks.html#Exporting-Code-Blocks" accesskey="p" rel="prev">Exporting Code Blocks</a>, Up: <a href="Working-with-Source-Code.html#Working-with-Source-Code" accesskey="u" rel="up">Working with Source Code</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Main-Index.html#Main-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
