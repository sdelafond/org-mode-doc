<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual is for Org version 9.3.

Copyright (C) 2004-2019  Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual."
 -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>The clock table (The Org Manual)</title>

<meta name="description" content="The clock table (The Org Manual)">
<meta name="keywords" content="The clock table (The Org Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Main-Index.html#Main-Index" rel="index" title="Main Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Clocking-Work-Time.html#Clocking-Work-Time" rel="up" title="Clocking Work Time">
<link href="Resolving-idle-time.html#Resolving-idle-time" rel="next" title="Resolving idle time">
<link href="Clocking-commands.html#Clocking-commands" rel="prev" title="Clocking commands">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="The-clock-table"></a>
<div class="header">
<p>
Next: <a href="Resolving-idle-time.html#Resolving-idle-time" accesskey="n" rel="next">Resolving idle time</a>, Previous: <a href="Clocking-commands.html#Clocking-commands" accesskey="p" rel="prev">Clocking commands</a>, Up: <a href="Clocking-Work-Time.html#Clocking-Work-Time" accesskey="u" rel="up">Clocking Work Time</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Main-Index.html#Main-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="The-clock-table-1"></a>
<h4 class="subsection">8.4.2 The clock table</h4>

<a name="index-clocktable_002c-dynamic-block"></a>
<a name="index-report_002c-of-clocked-time"></a>

<p>Org mode can produce quite complex reports based on the time clocking
information.  Such a report is called a <em>clock table</em>, because it is
formatted as one or several Org tables.
</p>
<p>You can insert, or update, a clock table through Org dynamic blocks
insert command (see <a href="Dynamic-Blocks.html#Dynamic-Blocks">Dynamic Blocks</a>), by pressing <kbd>C-c C-x x c l o c k t a b l e <span class="key">RET</span></kbd>.  When called with a prefix argument,
jump to the first clock table in the current document and update it.
The clock table includes archived trees.
</p>
<dl compact="compact">
<dt><kbd>C-c C-c</kbd> or <kbd>C-c C-x C-u</kbd> (<code>org-dblock-update</code>)</dt>
<dd><a name="index-C_002dc-C_002dc-14"></a>
<a name="index-C_002dc-C_002dx-C_002du-1"></a>
<a name="index-org_002ddblock_002dupdate-1"></a>
<p>Update dynamic block at point.  Point needs to be in the &lsquo;<samp>BEGIN</samp>&rsquo;
line of the dynamic block.
</p>
</dd>
<dt><kbd>C-u C-c C-x C-u</kbd></dt>
<dd><a name="index-C_002du-C_002dc-C_002dx-C_002du-1"></a>
<p>Update all dynamic blocks (see <a href="Dynamic-Blocks.html#Dynamic-Blocks">Dynamic Blocks</a>).  This is useful if
you have several clock table blocks in a buffer.
</p>
</dd>
<dt><kbd>S-<span class="key">LEFT</span></kbd></dt>
<dt><kbd>S-<span class="key">RIGHT</span></kbd> (<code>org-clocktable-try-shift</code>)</dt>
<dd><a name="index-S_002dLEFT-9"></a>
<a name="index-S_002dRIGHT-9"></a>
<a name="index-org_002dclocktable_002dtry_002dshift"></a>
<p>Shift the current &lsquo;<samp>:block</samp>&rsquo; interval and update the table.  Point
needs to be in the &lsquo;<samp>#+BEGIN: clocktable</samp>&rsquo; line for this command.  If
&lsquo;<samp>:block</samp>&rsquo; is &lsquo;<samp>today</samp>&rsquo;, it is shifted to &lsquo;<samp>today-1</samp>&rsquo;, etc.
</p></dd>
</dl>

<p>Here is an example of the frame for a clock table as it is inserted
into the buffer with the <kbd>C-c C-x C-r</kbd> command:
</p>
<a name="index-BEGIN-clocktable"></a>
<div class="example">
<pre class="example">#+BEGIN: clocktable :maxlevel 2 :emphasize nil :scope file
#+END: clocktable
</pre></div>

<a name="index-org_002dclocktable_002ddefaults"></a>
<p>The &lsquo;<samp>#+BEGIN</samp>&rsquo; line and specify a number of options to define the
scope, structure, and formatting of the report.  Defaults for all
these options can be configured in the variable
<code>org-clocktable-defaults</code>.
</p>
<p>First there are options that determine which clock entries are to
be selected:
</p>
<dl compact="compact">
<dt>&lsquo;<samp>:maxlevel</samp>&rsquo;</dt>
<dd><p>Maximum level depth to which times are listed in the table.  Clocks
at deeper levels are summed into the upper level.
</p>
</dd>
<dt>&lsquo;<samp>:scope</samp>&rsquo;</dt>
<dd><p>The scope to consider.  This can be any of the following:
</p>
<table>
<tr><td>&lsquo;<samp>nil</samp>&rsquo;</td><td>the current buffer or narrowed region</td></tr>
<tr><td>&lsquo;<samp>file</samp>&rsquo;</td><td>the full current buffer</td></tr>
<tr><td>&lsquo;<samp>subtree</samp>&rsquo;</td><td>the subtree where the clocktable is located</td></tr>
<tr><td>&lsquo;<samp>treeN</samp>&rsquo;</td><td>the surrounding level N tree, for example &lsquo;<samp>tree3</samp>&rsquo;</td></tr>
<tr><td>&lsquo;<samp>tree</samp>&rsquo;</td><td>the surrounding level 1 tree</td></tr>
<tr><td>&lsquo;<samp>agenda</samp>&rsquo;</td><td>all agenda files</td></tr>
<tr><td>&lsquo;<samp>(&quot;file&quot; ...)</samp>&rsquo;</td><td>scan these files</td></tr>
<tr><td>&lsquo;<samp>FUNCTION</samp>&rsquo;</td><td>scan files returned by calling <var>FUNCTION</var> with no argument</td></tr>
<tr><td>&lsquo;<samp>file-with-archives</samp>&rsquo;</td><td>current file and its archives</td></tr>
<tr><td>&lsquo;<samp>agenda-with-archives</samp>&rsquo;</td><td>all agenda files, including archives</td></tr>
</table>

</dd>
<dt>&lsquo;<samp>:block</samp>&rsquo;</dt>
<dd><p>The time block to consider.  This block is specified either
absolutely, or relative to the current time and may be any of these
formats:
</p>
<table>
<tr><td>&lsquo;<samp>2007-12-31</samp>&rsquo;</td><td>New year eve 2007</td></tr>
<tr><td>&lsquo;<samp>2007-12</samp>&rsquo;</td><td>December 2007</td></tr>
<tr><td>&lsquo;<samp>2007-W50</samp>&rsquo;</td><td>ISO-week 50 in 2007</td></tr>
<tr><td>&lsquo;<samp>2007-Q2</samp>&rsquo;</td><td>2nd quarter in 2007</td></tr>
<tr><td>&lsquo;<samp>2007</samp>&rsquo;</td><td>the year 2007</td></tr>
<tr><td>&lsquo;<samp>today</samp>&rsquo;, &lsquo;<samp>yesterday</samp>&rsquo;, &lsquo;<samp>today-N</samp>&rsquo;</td><td>a relative day</td></tr>
<tr><td>&lsquo;<samp>thisweek</samp>&rsquo;, &lsquo;<samp>lastweek</samp>&rsquo;, &lsquo;<samp>thisweek-N</samp>&rsquo;</td><td>a relative week</td></tr>
<tr><td>&lsquo;<samp>thismonth</samp>&rsquo;, &lsquo;<samp>lastmonth</samp>&rsquo;, &lsquo;<samp>thismonth-N</samp>&rsquo;</td><td>a relative month</td></tr>
<tr><td>&lsquo;<samp>thisyear</samp>&rsquo;, &lsquo;<samp>lastyear</samp>&rsquo;, &lsquo;<samp>thisyear-N</samp>&rsquo;</td><td>a relative year</td></tr>
<tr><td>&lsquo;<samp>untilnow</samp>&rsquo;<a name="DOCF77" href="#FOOT77"><sup>77</sup></a></td><td>all clocked time ever</td></tr>
</table>

<a name="index-org_002dclock_002ddisplay_002ddefault_002drange"></a>
<p>When this option is not set, Org falls back to the value in
<code>org-clock-display-default-range</code>, which defaults to the current
year.
</p>
<p>Use <kbd>S-<span class="key">LEFT</span></kbd> or <kbd>S-<span class="key">RIGHT</span></kbd> to shift the time
interval.
</p>
</dd>
<dt>&lsquo;<samp>:tstart</samp>&rsquo;</dt>
<dd><p>A time string specifying when to start considering times.  Relative
times like &lsquo;<samp>&quot;&lt;-2w&gt;&quot;</samp>&rsquo; can also be used.  See <a href="Matching-tags-and-properties.html#Matching-tags-and-properties">Matching tags and properties</a> for relative time syntax.
</p>
</dd>
<dt>&lsquo;<samp>:tend</samp>&rsquo;</dt>
<dd><p>A time string specifying when to stop considering times.  Relative
times like &lsquo;<samp>&quot;&lt;now&gt;&quot;</samp>&rsquo; can also be used.  See <a href="Matching-tags-and-properties.html#Matching-tags-and-properties">Matching tags and properties</a> for relative time syntax.
</p>
</dd>
<dt>&lsquo;<samp>:wstart</samp>&rsquo;</dt>
<dd><p>The starting day of the week.  The default is 1 for Monday.
</p>
</dd>
<dt>&lsquo;<samp>:mstart</samp>&rsquo;</dt>
<dd><p>The starting day of the month.  The default is 1 for the first.
</p>
</dd>
<dt>&lsquo;<samp>:step</samp>&rsquo;</dt>
<dd><p>Set to &lsquo;<samp>day</samp>&rsquo;, &lsquo;<samp>week</samp>&rsquo;, &lsquo;<samp>month</samp>&rsquo; or &lsquo;<samp>year</samp>&rsquo; to split the table into
chunks.  To use this, either &lsquo;<samp>:block</samp>&rsquo;, or &lsquo;<samp>:tstart</samp>&rsquo; and &lsquo;<samp>:tend</samp>&rsquo; are
required.
</p>
</dd>
<dt>&lsquo;<samp>:stepskip0</samp>&rsquo;</dt>
<dd><p>When non-<code>nil</code>, do not show steps that have zero time.
</p>
</dd>
<dt>&lsquo;<samp>:fileskip0</samp>&rsquo;</dt>
<dd><p>When non-<code>nil</code>, do not show table sections from files which did not
contribute.
</p>
</dd>
<dt>&lsquo;<samp>:match</samp>&rsquo;</dt>
<dd><p>A tags match to select entries that should contribute.  See
<a href="Matching-tags-and-properties.html#Matching-tags-and-properties">Matching tags and properties</a> for the match syntax.
</p></dd>
</dl>

<a name="index-org_002dclocktable_002dwrite_002ddefault"></a>
<p>Then there are options that determine the formatting of the table.
There options are interpreted by the function
<code>org-clocktable-write-default</code>, but you can specify your own function
using the &lsquo;<samp>:formatter</samp>&rsquo; parameter.
</p>
<dl compact="compact">
<dt>&lsquo;<samp>:emphasize</samp>&rsquo;</dt>
<dd><p>When non-<code>nil</code>, emphasize level one and level two items.
</p>
</dd>
<dt>&lsquo;<samp>:lang</samp>&rsquo;</dt>
<dd><p>Language<a name="DOCF78" href="#FOOT78"><sup>78</sup></a> to use for descriptive cells like &ldquo;Task&rdquo;.
</p>
</dd>
<dt>&lsquo;<samp>:link</samp>&rsquo;</dt>
<dd><p>Link the item headlines in the table to their origins.
</p>
</dd>
<dt>&lsquo;<samp>:narrow</samp>&rsquo;</dt>
<dd><p>An integer to limit the width of the headline column in the Org
table.  If you write it like &lsquo;<samp>50!</samp>&rsquo;, then the headline is also
shortened in export.
</p>
</dd>
<dt>&lsquo;<samp>:indent</samp>&rsquo;</dt>
<dd><p>Indent each headline field according to its level.
</p>
</dd>
<dt>&lsquo;<samp>:hidefiles</samp>&rsquo;</dt>
<dd><p>Hide the file column when multiple files are used to produce the
table.
</p>
</dd>
<dt>&lsquo;<samp>:tcolumns</samp>&rsquo;</dt>
<dd><p>Number of columns to be used for times.  If this is smaller than
&lsquo;<samp>:maxlevel</samp>&rsquo;, lower levels are lumped into one column.
</p>
</dd>
<dt>&lsquo;<samp>:level</samp>&rsquo;</dt>
<dd><p>Should a level number column be included?
</p>
</dd>
<dt>&lsquo;<samp>:sort</samp>&rsquo;</dt>
<dd><p>A cons cell containing the column to sort and a sorting type.  E.g.,
&lsquo;<samp>:sort (1 . ?a)</samp>&rsquo; sorts the first column alphabetically.
</p>
</dd>
<dt>&lsquo;<samp>:compact</samp>&rsquo;</dt>
<dd><p>Abbreviation for &lsquo;<samp>:level nil :indent t :narrow 40! :tcolumns 1</samp>&rsquo;.
All are overwritten except if there is an explicit &lsquo;<samp>:narrow</samp>&rsquo;.
</p>
</dd>
<dt>&lsquo;<samp>:timestamp</samp>&rsquo;</dt>
<dd><p>A timestamp for the entry, when available.  Look for &lsquo;<samp>SCHEDULED</samp>&rsquo;,
&lsquo;<samp>DEADLINE</samp>&rsquo;, &lsquo;<samp>TIMESTAMP</samp>&rsquo; and &lsquo;<samp>TIMESTAMP_IA</samp>&rsquo; special properties (see
<a href="Special-Properties.html#Special-Properties">Special Properties</a>), in this order.
</p>
</dd>
<dt>&lsquo;<samp>:tags</samp>&rsquo;</dt>
<dd><p>When this flag is non-<code>nil</code>, show the headline&rsquo;s tags.
</p>
</dd>
<dt>&lsquo;<samp>:properties</samp>&rsquo;</dt>
<dd><p>List of properties shown in the table.  Each property gets its own
column.
</p>
</dd>
<dt>&lsquo;<samp>:inherit-props</samp>&rsquo;</dt>
<dd><p>When this flag is non-<code>nil</code>, the values for &lsquo;<samp>:properties</samp>&rsquo; are
inherited.
</p>
</dd>
<dt>&lsquo;<samp>:formula</samp>&rsquo;</dt>
<dd><p>Content of a &lsquo;<samp>TBLFM</samp>&rsquo; keyword to be added and evaluated.  As
a special case, &lsquo;<samp>:formula %</samp>&rsquo; adds a column with % time.  If you do
not specify a formula here, any existing formula below the clock
table survives updates and is evaluated.
</p>
</dd>
<dt>&lsquo;<samp>:formatter</samp>&rsquo;</dt>
<dd><p>A function to format clock data and insert it into the buffer.
</p></dd>
</dl>

<p>To get a clock summary of the current level 1 tree, for the current
day, you could write:
</p>
<div class="example">
<pre class="example">#+BEGIN: clocktable :maxlevel 2 :block today :scope tree1 :link t
#+END: clocktable
</pre></div>

<p>To use a specific time range you could write<a name="DOCF79" href="#FOOT79"><sup>79</sup></a>
</p>
<div class="example">
<pre class="example">#+BEGIN: clocktable :tstart &quot;&lt;2006-08-10 Thu 10:00&gt;&quot;
                    :tend &quot;&lt;2006-08-10 Thu 12:00&gt;&quot;
#+END: clocktable
</pre></div>

<p>A range starting a week ago and ending right now could be written as
</p>
<div class="example">
<pre class="example">#+BEGIN: clocktable :tstart &quot;&lt;-1w&gt;&quot; :tend &quot;&lt;now&gt;&quot;
#+END: clocktable
</pre></div>

<p>A summary of the current subtree with % times would be
</p>
<div class="example">
<pre class="example">#+BEGIN: clocktable :scope subtree :link t :formula %
#+END: clocktable
</pre></div>

<p>A horizontally compact representation of everything clocked during
last week would be
</p>
<div class="example">
<pre class="example">#+BEGIN: clocktable :scope agenda :block lastweek :compact t
#+END: clocktable
</pre></div>

<div class="footnote">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h3><a name="FOOT77" href="#DOCF77">(77)</a></h3>
<p>When using <code>:step</code>, <code>untilnow</code> starts from the beginning of
2003, not the beginning of time.</p>
<h3><a name="FOOT78" href="#DOCF78">(78)</a></h3>
<p>Language terms can be set through the variable
<code>org-clock-clocktable-language-setup</code>.</p>
<h3><a name="FOOT79" href="#DOCF79">(79)</a></h3>
<p>Note that all parameters must be specified in a single
line&mdash;the line is broken here only to fit it into the manual.</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="Resolving-idle-time.html#Resolving-idle-time" accesskey="n" rel="next">Resolving idle time</a>, Previous: <a href="Clocking-commands.html#Clocking-commands" accesskey="p" rel="prev">Clocking commands</a>, Up: <a href="Clocking-Work-Time.html#Clocking-Work-Time" accesskey="u" rel="up">Clocking Work Time</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Main-Index.html#Main-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
