<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- 
Copyright (C) 2010-2019 Free Software Foundation

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.  A copy of the license
is included in the section entitled "GNU Free Documentation License"
in the full Org manual, which is distributed together with the compact
guide.

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual." -->
<!-- Created by GNU Texinfo 6.3, http://www.gnu.org/software/texinfo/ -->
<head>
<title>The compact Org-mode Guide: Working With Source Code</title>

<meta name="description" content="The compact Org-mode Guide: Working With Source Code">
<meta name="keywords" content="The compact Org-mode Guide: Working With Source Code">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="index.html#Top" rel="up" title="Top">
<link href="Miscellaneous.html#Miscellaneous" rel="next" title="Miscellaneous">
<link href="Publishing.html#Publishing" rel="prev" title="Publishing">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<a name="Working-With-Source-Code"></a>
<div class="header">
<p>
Next: <a href="Miscellaneous.html#Miscellaneous" accesskey="n" rel="next">Miscellaneous</a>, Previous: <a href="Publishing.html#Publishing" accesskey="p" rel="prev">Publishing</a>, Up: <a href="index.html#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
</div>
<hr>
<a name="Working-with-source-code"></a>
<h2 class="chapter">14 Working with source code</h2>
<p>Org-mode provides a number of features for working with source code,
including editing of code blocks in their native major-mode, evaluation of
code blocks, tangling of code blocks, and exporting code blocks and their
results in several formats.
</p>
<a name="Structure-of-Code-Blocks"></a>
<h4 class="subheading">Structure of Code Blocks</h4>
<p>The structure of code blocks is as follows:
</p>
<div class="example">
<pre class="example">#+NAME: &lt;name&gt;
#+BEGIN_SRC &lt;language&gt; &lt;switches&gt; &lt;header arguments&gt;
  &lt;body&gt;
#+END_SRC
</pre></div>

<p>Where <code>&lt;name&gt;</code> is a string used to name the code block,
<code>&lt;language&gt;</code> specifies the language of the code block
(e.g. <code>emacs-lisp</code>, <code>shell</code>, <code>R</code>, <code>python</code>, etc...),
<code>&lt;switches&gt;</code> can be used to control export of the code block,
<code>&lt;header arguments&gt;</code> can be used to control many aspects of code block
behavior as demonstrated below, and <code>&lt;body&gt;</code> contains the actual source
code.
</p>
<a name="Editing-source-code"></a>
<h4 class="subheading">Editing source code</h4>
<p>Use <kbd>C-c '</kbd> to edit the current code block.  This brings up a language
major-mode edit buffer containing the body of the code block.  Saving this
buffer will write the new contents back to the Org buffer.  Use <kbd>C-c '</kbd>
again to exit the edit buffer.
</p>
<a name="Evaluating-code-blocks"></a>
<h4 class="subheading">Evaluating code blocks</h4>
<p>Use <kbd>C-c C-c</kbd> to evaluate the current code block and insert its results
in the Org-mode buffer.  By default, evaluation is only turned on for
<code>emacs-lisp</code> code blocks, however support exists for evaluating blocks
in many languages.  For a complete list of supported languages see the
manual.  The following shows a code block and its results.
</p>
<div class="example">
<pre class="example">#+BEGIN_SRC emacs-lisp
  (+ 1 2 3 4)
#+END_SRC

#+RESULTS:
: 10
</pre></div>

<a name="Extracting-source-code"></a>
<h4 class="subheading">Extracting source code</h4>
<p>Use <kbd>C-c C-v t</kbd> to create pure source code files by extracting code from
source blocks in the current buffer.  This is referred to as &ldquo;tangling&rdquo;&mdash;a
term adopted from the literate programming community.  During &ldquo;tangling&rdquo; of
code blocks their bodies are expanded using <code>org-babel-expand-src-block</code>
which can expand both variable and &ldquo;noweb&rdquo; style references.  In order to
tangle a code block it must have a <code>:tangle</code> header argument, see the
manual for details.
</p>
<a name="Library-of-Babel"></a>
<h4 class="subheading">Library of Babel</h4>
<p>Use <kbd>C-c C-v l</kbd> to load the code blocks from an Org-mode files into the
&ldquo;Library of Babel&rdquo;, these blocks can then be evaluated from any Org-mode
buffer.  A collection of generally useful code blocks is accessible through
Org-modeâs community-driven documentation on
<a href="https://orgmode.org/worg/library-of-babel.html">Worg</a>.
</p>
<a name="Header-Arguments"></a>
<h4 class="subheading">Header Arguments</h4>
<p>Many aspects of the evaluation and export of code blocks are controlled
through header arguments.  These can be specified globally, at the file
level, at the outline subtree level, and at the individual code block level.
The following describes some of the header arguments.
</p><dl compact="compact">
<dt><code>:var</code></dt>
<dd><p>The <code>:var</code> header argument is used to pass arguments to code blocks.
The values passed to arguments can be literal values, values from org-mode
tables and literal example blocks, or the results of other named code blocks.
</p></dd>
<dt><code>:results</code></dt>
<dd><p>The <code>:results</code> header argument controls the <em>collection</em>,
<em>type</em>, and <em>handling</em> of code block results.  Values of
<code>output</code> or <code>value</code> (the default) specify how results are collected
from a code block&rsquo;s evaluation.  Values of <code>vector</code>, <code>scalar</code>
<code>file</code> <code>raw</code> <code>html</code> <code>latex</code> and <code>code</code> specify the
type of the results of the code block which dictates how they will be
incorporated into the Org-mode buffer.  Values of <code>silent</code>,
<code>replace</code>, <code>prepend</code>, and <code>append</code> specify handling of code
block results, specifically if and how the results should be inserted into
the Org-mode buffer.
</p></dd>
<dt><code>:session</code></dt>
<dd><p>A header argument of <code>:session</code> will cause the code block to be
evaluated in a persistent interactive inferior process in Emacs.  This allows
for persisting state between code block evaluations, and for manual
inspection of the results of evaluation.
</p></dd>
<dt><code>:exports</code></dt>
<dd><p>Any combination of the <em>code</em> or the <em>results</em> of a block can be
retained on export, this is specified by setting the <code>:results</code> header
argument to <code>code</code> <code>results</code> <code>none</code> or <code>both</code>.
</p></dd>
<dt><code>:tangle</code></dt>
<dd><p>A header argument of <code>:tangle yes</code> will cause a code block&rsquo;s contents to
be tangled to a file named after the filename of the Org-mode buffer.  An
alternate file name can be specified with <code>:tangle filename</code>.
</p></dd>
<dt><code>:cache</code></dt>
<dd><p>A header argument of <code>:cache yes</code> will cause associate a hash of the
expanded code block with the results, ensuring that code blocks are only
re-run when their inputs have changed.
</p></dd>
<dt><code>:noweb</code></dt>
<dd><p>A header argument of <code>:noweb yes</code> will expand &ldquo;noweb&rdquo; style references
on evaluation and tangling.
</p></dd>
<dt><code>:file</code></dt>
<dd><p>Code blocks which output results to files (e.g. graphs, diagrams and figures)
can accept a <code>:file filename</code> header argument in which case the results
are saved to the named file, and a link to the file is inserted into the
Org-mode buffer.
</p></dd>
</dl>

<p><b>Further reading</b><br><a href="https://orgmode.org/manual/Literal-examples.html#Literal-examples">Chapter 11 and section 5 of the manual</a><br>
<a href="https://orgmode.org/worg/org-contrib/babel/">The Babel site on Worg</a>
</p>
<hr>
<div class="header">
<p>
Next: <a href="Miscellaneous.html#Miscellaneous" accesskey="n" rel="next">Miscellaneous</a>, Previous: <a href="Publishing.html#Publishing" accesskey="p" rel="prev">Publishing</a>, Up: <a href="index.html#Top" accesskey="u" rel="up">Top</a> &nbsp; </p>
</div>



</body>
</html>
